{"version":3,"sources":["views/hocloader/HocLoader.js","components/index.js","components/appdataform/index.js","components/appdataform/AppDataForm.js","views/basvuruid/BasvuruID.js","views/rapor/KazancRaporDetay.js"],"names":["HocLoader","props","absolute","className","isLoading","role","children","relative","mapDataToTurkish","fetchData","map","obj","submitDate","Date","submit_time","statusChangeDate","status_change_date","lastChangeDate","last_change_date","submitProcessNum","status","ID","id","İsim","client_name","Tarih","toISOString","slice","Hizmet","service_name","Kampanya","offer_name","Açıklama","description","Statü","salesRepDetails","sales_rep_details","finalSalesRepDetails","final_sales_rep_details","imageURLS","image_urls","getBadge","mapRoleToTurkish","renderMiddleTextArea","applicationDetails","userRole","row","rows","placeholder","readOnly","renderFooterTextArea","setSdDetay","userDetails","forRoleSetFields","field3","onChange","e","target","value","setHeaderColor","details","AppDataForm","isEditable","useSelector","state","reducer","loggedInUserInfo","loggedInRole","forRoleSetFormLabel","xs","sm","style","backgroundColor","elm","i","md","href","rel","alt","maxWidth","maxHeight","cursor","src","BasvuruID","appID","match","applicationID","params","useState","data","setData","loading","setLoading","useEffect","a","fetch","method","headers","document","cookie","res","json","mappedData","fields","key","_style","width","label","sorter","filter","RaporDetay","location","console","log","history","useHistory","queryPage","useLocation","search","currentPage","Number","page","setPage","undefined","reportsData","setReportsData","setDetails","mapedDataToTUR","başvuru_ID","app_id","müşteri","hizmet","selected_service","önceki_bakiye","balance_before","toFixed","tutar","amount","sonraki_bakiye","balance_after","kazanç_ID","transaction_id","tarih","date","xl","lg","items","tableFilter","hover","itemsPerPage","activePage","clickableRows","onRowClick","item","push","rapor_id","scopedSlots","color","fontSize","index","variant","shape","size","onClick","position","indexOf","newDetails","splice","toggleDetails","includes","show","marginTop","onActivePageChange","newPage","url","pages","doubleArrows","align"],"mappings":"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","file":"static/js/9.b01eb1c5.chunk.js","sourcesContent":["import \"./loader.css\"\r\n\r\nconst HocLoader = (props) => {\r\n    if (props.absolute)\r\n      return (\r\n        <div >\r\n          <div className={ props.isLoading ? \"loader loader-absolute\" : \"\"}>\r\n            <div className={ props.isLoading ? \"spinner-border\" : \"\"} role=\"status\">\r\n              {/* <span className=\"sr-only loader-icon\">Loading...</span> */}\r\n            </div>\r\n          </div>\r\n          {\r\n            props.children\r\n          }\r\n        </div>\r\n      )\r\n    else if (props.relative)\r\n      return (\r\n        <div className = \"relativePosition\">\r\n          <div className={ props.isLoading ? \"loader loader-relative\" : \"\"}>\r\n            <div className={ props.isLoading ? \"spinner-border\" : \"\"} role=\"status\">\r\n              {/* <span className=\"sr-only loader-icon\">Loading...</span> */}\r\n            </div>\r\n          </div>\r\n          {\r\n            props.children\r\n          }\r\n        </div>\r\n      )\r\n}\r\n\r\nexport default HocLoader;","export const mapDataToTurkish = (fetchData) => {\r\n    return fetchData.map(obj => {\r\n        let submitDate = new Date(obj.submit_time)\r\n        let statusChangeDate = new Date(obj.status_change_date)\r\n        let lastChangeDate = new Date(obj.last_change_date)\r\n        let submitProcessNum = 0\r\n        let status = \"\"\r\n        if (obj.status === \"approved\") {\r\n          submitProcessNum = 3\r\n          status = \"Onaylandı\"\r\n        }\r\n        else if (obj.status === \"rejected\") {\r\n          submitProcessNum = 3\r\n          status = \"İptal\"\r\n        }\r\n        else if (obj.status === \"processing\") {\r\n          submitProcessNum = 2\r\n          status = \"İşleniyor\"\r\n        }\r\n        else if (obj.status === \"sent\") {\r\n          status = \"Gönderildi\"\r\n          submitProcessNum = 1\r\n        }\r\n        return {\r\n            ID: obj.id,\r\n            İsim: obj.client_name,\r\n            Tarih: submitDate.toISOString().slice(0, 10),\r\n            Hizmet: obj.service_name,\r\n            Kampanya: obj.offer_name,\r\n            Açıklama: obj.description,\r\n            Statü: status,\r\n            salesRepDetails: obj.sales_rep_details ? obj.sales_rep_details : \"\",\r\n            statusChangeDate: statusChangeDate ? statusChangeDate.toISOString().slice(0, 10) : null,\r\n            finalSalesRepDetails: obj.final_sales_rep_details ? obj.final_sales_rep_details : \"\",\r\n            lastChangeDate: lastChangeDate ? lastChangeDate.toISOString().slice(0, 10) : null,\r\n            submitProcessNum,\r\n            imageURLS: obj.image_urls ? obj.image_urls : null\r\n          }\r\n      })\r\n}\r\n\r\nexport const getBadge = (status)=>{\r\n    switch (status) {\r\n       case 'Onaylandı': return 'success'\r\n       case 'İşleniyor': return 'warning'\r\n       case 'İptal': return 'danger'\r\n       case 'Gönderildi': return 'secondary'\r\n       default: return 'primary'\r\n    }\r\n  }\r\n\r\nexport const mapRoleToTurkish = (status)=>{\r\n  switch (status) {\r\n      case 'dealer': return 'Bayi'\r\n      case 'sales_assistant': return 'Satış Destek'\r\n      case 'sales_assistant_chef': return 'Satış Destek Şefi'\r\n      case 'admin': return 'Admin'\r\n      default: return ''\r\n  }\r\n}","import { CCol, CFormGroup, CLabel, CTextarea, CButton } from '@coreui/react'\r\n\r\nexport const forRoleSetFormLabel = (role) => {\r\n    switch (role) {\r\n        case \"dealer\":\r\n            return {\r\n                field3: \"Satış Destek Son Notları\"\r\n            }\r\n        case \"sales_assistant\":\r\n            return {\r\n                field3: \"Son notlarınız\"\r\n            }\r\n        case \"sales_assistant_chef\":\r\n            return {\r\n                field3: \"Satış Destek Son Notları\"\r\n            }    \r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport const renderBasvuruDetayFooterButtons = (details, updateApp) => {\r\n    // if the application is on Hold (first status change)\r\n    if (details.submitProcessNum === 2) {\r\n        return (\r\n        <div id = \"basvuruDetay-footerButtons\">\r\n            {/* Here \"true\" in updateApp refers to sp optional parameter, if true it modifies the urlString in fetch */}\r\n            <CButton onClick = {() => updateApp(\"İptal\", true)} size=\"md\" color=\"danger\"><i className=\"fas fa-ban\"></i> İPTAL</CButton>\r\n            <CButton onClick = {()=> updateApp(\"Onaylandı\", true)} size=\"md\" color=\"success\" className = \"\">\r\n            <i className=\"fas fa-check-circle\"></i> ONAYLA</CButton>\r\n        </div>\r\n        )\r\n    }\r\n    // if the applications has been approved or denied (second status change)\r\n    else if (details.submitProcessNum === 3) {\r\n        return null\r\n    // else return first process submission\r\n    } else {\r\n        return (\r\n        <div id = \"basvuruDetay-footerButtons\">\r\n            <CButton onClick = {() => updateApp(\"İptal\")} size=\"md\" color=\"danger\"><i className=\"fas fa-ban\"></i> İPTAL</CButton>\r\n            <CButton onClick = {()=> updateApp(\"İşleniyor\")} size=\"md\" color=\"warning\" className = \"basvuru-detay-submit-buttons-submit\" >\r\n            <i className=\"fas fa-arrow-circle-up\"></i> İŞLE</CButton>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport const renderMiddleTextArea = (applicationDetails, userRole) => {\r\n    if (applicationDetails.submitProcessNum === 2) {\r\n        return (\r\n            <CFormGroup row>\r\n            <CCol>\r\n                <CLabel>Bayi Açıklaması</CLabel>\r\n                <CTextarea \r\n                rows=\"8\"\r\n                placeholder={applicationDetails.Açıklama}\r\n                readOnly\r\n                />\r\n            </CCol>\r\n            {\r\n                userRole === \"sales_assistant\" ?\r\n                <CCol>\r\n                    <CLabel>Önceki Notlarınız</CLabel>\r\n                    <CTextarea\r\n                    rows=\"8\"\r\n                    placeholder={applicationDetails.salesRepDetails}\r\n                    readOnly\r\n                    />\r\n                </CCol>\r\n                :\r\n                <CCol>\r\n                    <CLabel>Satış Destek Notları</CLabel>\r\n                    <CTextarea\r\n                    rows=\"8\"\r\n                    placeholder={applicationDetails.salesRepDetails}\r\n                    readOnly\r\n                    />\r\n                </CCol>\r\n            }\r\n            </CFormGroup>\r\n        )\r\n    }\r\n    else if (applicationDetails.submitProcessNum === 3) {\r\n        return (\r\n        <CFormGroup>\r\n        <CLabel>Bayi Açıklaması</CLabel>\r\n        <CTextarea \r\n            rows=\"4\"\r\n            placeholder={applicationDetails.Açıklama}\r\n            readOnly\r\n        />\r\n        </CFormGroup>\r\n        )\r\n    } else {\r\n        return (\r\n        <CFormGroup>\r\n            <CLabel>Bayi Açıklaması</CLabel>\r\n            <CTextarea \r\n            rows=\"4\"\r\n            placeholder={applicationDetails.Açıklama}\r\n            readOnly\r\n            />\r\n        </CFormGroup>\r\n        )\r\n    }\r\n}\r\n\r\nexport const renderFooterTextArea = (setSdDetay, userRole, userDetails, forRoleSetFields) => {\r\n    if (userDetails.submitProcessNum === 3)\r\n        return (\r\n            <CFormGroup>\r\n                <CLabel>{forRoleSetFields.field3}</CLabel>\r\n                    <CTextarea \r\n                    rows=\"6\"\r\n                    placeholder={userDetails.finalSalesRepDetails}\r\n                    readOnly\r\n                    />\r\n            </CFormGroup>\r\n        )\r\n    else {\r\n        if (userRole === \"sales_assistant\")\r\n            return (\r\n                <CFormGroup>\r\n                    <CLabel>Notlarınız</CLabel>\r\n                    <CTextarea \r\n                        rows=\"6\"\r\n                        placeholder=\"işlemle alakalı notlarınız...\"\r\n                        onChange = {(e) => setSdDetay(e.target.value)}\r\n                    />\r\n                </CFormGroup>\r\n            )\r\n        else\r\n            return (\r\n                <CFormGroup>\r\n                    <CLabel>Satış Destek Son Notları</CLabel>\r\n                    <CTextarea \r\n                        rows=\"6\"\r\n                        placeholder={userDetails.finalSalesRepDetails}\r\n                        readOnly\r\n                    />\r\n                </CFormGroup>\r\n            )\r\n    }\r\n}\r\n\r\nexport const setHeaderColor = (details) => {\r\n    switch (details.Statü) {\r\n        case \"İşleniyor\":\r\n        return \"rgb(214, 160, 11)\"\r\n        case \"İptal\":\r\n        return \"rgb(212, 69, 13)\"\r\n        case \"Onaylandı\":\r\n        return \"rgb(55, 150, 55)\"\r\n        default:\r\n        return \"rgb(120, 138, 151)\"\r\n    }\r\n}","import { CCard, CCardBody, CCardHeader, CCol, CRow, CFormGroup, CLabel, CInput } from '@coreui/react'\r\nimport { setHeaderColor, renderMiddleTextArea, forRoleSetFormLabel, renderFooterTextArea } from '.'\r\nimport { useSelector } from \"react-redux\"\r\nimport \"./AppDataForm.css\"\r\n// import { useHistory } from 'react-router'\r\nimport React from 'react'\r\n\r\nconst AppDataForm = ({isEditable, userDetails, setSdDetay}) => {\r\n    const userRole = useSelector(state => state.reducer.loggedInUserInfo.loggedInRole)\r\n    const forRoleSetFields = forRoleSetFormLabel(userRole)\r\n    // const [clientAppImageURLS, setClientAppImageURLS] = React.useState([])\r\n    // const history = useHistory()\r\n    // React.useEffect(() => {\r\n    //   if (userDetails.imageURLS)\r\n    //     setClientAppImageURLS(userDetails.imageURLS)\r\n    // }, [])\r\n    return(\r\n    <CRow className = \"justify-content-center align-items-center\">\r\n        <CCol xs=\"12\" sm=\"12\">\r\n          <CCard>\r\n            <CCardHeader className = \"basvuru-detay-header\" style = {{backgroundColor: setHeaderColor(userDetails)}}>\r\n              <h4>Başvuru Detay</h4>\r\n              {/* <CCol sm = \"2\" className = \"basvuru-detay-header-buttonCol\">\r\n                <CButton active block color=\"secondary\" aria-pressed=\"true\" onClick = {() => history.goBack()}>\r\n                    Geri\r\n                 </CButton>\r\n              </CCol> */}\r\n            </CCardHeader>\r\n            <CCardBody className = \"basvuru-detay\" >\r\n              <CFormGroup row className=\"my-0\">\r\n                <CCol xs=\"2\">\r\n                  <CFormGroup>\r\n                    <CLabel>ID</CLabel>\r\n                    <CInput placeholder= {userDetails.ID} readOnly />\r\n                  </CFormGroup>\r\n                </CCol>\r\n                <CCol xs=\"10\">\r\n                  <CFormGroup>\r\n                    <CLabel>İsim</CLabel>\r\n                    <CInput placeholder={userDetails.İsim} readOnly />\r\n                  </CFormGroup>\r\n                </CCol>\r\n              </CFormGroup>\r\n              <CFormGroup row className=\"my-0\">\r\n                <CCol xs=\"2\">\r\n                  <CFormGroup>\r\n                    <CLabel>Tarih</CLabel>\r\n                    <CInput placeholder= {userDetails.Tarih} readOnly />\r\n                  </CFormGroup>\r\n                </CCol>\r\n                <CCol xs=\"3\">\r\n                  <CFormGroup>\r\n                    <CLabel>Hizmet</CLabel>\r\n                    <CInput placeholder={userDetails.Hizmet} readOnly />\r\n                  </CFormGroup>\r\n                </CCol>\r\n                <CCol xs=\"7\">\r\n                  <CFormGroup>\r\n                    <CLabel>Kampanya</CLabel>\r\n                    <CInput placeholder={userDetails.Kampanya} readOnly />\r\n                  </CFormGroup>\r\n                </CCol>\r\n              </CFormGroup>\r\n              {renderMiddleTextArea(userDetails)}\r\n              {renderFooterTextArea(setSdDetay, userRole, userDetails, forRoleSetFields)}\r\n              <CFormGroup row>\r\n              {\r\n                userDetails.imageURLS && userDetails.imageURLS.map ((elm, i) => {\r\n                  return (\r\n                    <CCol md=\"4\" key = {i}>\r\n                      <a href = {elm} target = \"_blank\" rel = \"noreferrer\" >\r\n                        <img alt = \"\" style = {{maxWidth: \"200px\", maxHeight: \"200px\", cursor: \"pointer\"}}\r\n                        src = {elm} \r\n                        />\r\n                      </a>\r\n                    </CCol>\r\n                  )\r\n                })\r\n              }\r\n              </CFormGroup>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n    </CRow>\r\n    )\r\n}\r\n\r\nexport default AppDataForm","import React, { useEffect, useState } from 'react'\r\nimport AppDataForm from '../../components/appdataform/AppDataForm'\r\nimport { mapDataToTurkish } from \"../../components/index\";\r\nimport HocLoader from \"../hocloader/HocLoader\"\r\n\r\nconst BasvuruID = ({match, applicationID}) => {\r\n  let appID\r\n  if (match)\r\n    appID = match.params.id\r\n  else if (applicationID)\r\n    appID = applicationID\r\n  const [data, setData] = useState({})\r\n  const [loading, setLoading] = useState(false)\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    const fetchData = async () => {\r\n      const res = await fetch(`/application/${appID}`,{\r\n          method: 'GET',\r\n          headers: {\r\n            'content-type': 'application/json',\r\n            'authorization' :`Bearer ${document.cookie.slice(8)} `\r\n          }\r\n      })\r\n      if (res.status === 200) {\r\n        const fetchData = await res.json()\r\n        const mappedData = mapDataToTurkish(fetchData)\r\n        setData(mappedData[0])\r\n      }\r\n      setLoading(false)\r\n    }\r\n    fetchData()\r\n  }, [appID])\r\n\r\n    return (\r\n      <HocLoader relative = {true} isLoading = {loading}>\r\n        <AppDataForm userDetails = {data} />\r\n      </HocLoader>\r\n    )\r\n}\r\n\r\nexport default BasvuruID","import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CDataTable,\r\n  CRow,\r\n  CPagination,\r\n  CButton,\r\n  CCollapse\r\n} from '@coreui/react'\r\nimport BasvuruID from '../basvuruid/BasvuruID'\r\n// import XLSX from \"xlsx\";\r\n\r\nconst fields = [\r\n  {key: 'başvuru_ID',  _style: { width: '10%'} },\r\n  { key: 'müşteri', _style: { width: '20%'} },\r\n  { key: 'hizmet', _style: { width: '10%'} },\r\n  'önceki_bakiye',\r\n  'tutar',\r\n  'sonraki_bakiye',\r\n  'kazanç_ID',\r\n  'tarih',\r\n  {\r\n    key: 'show_details',\r\n    label: '',\r\n    _style: { width: '1%' },\r\n    sorter: false,\r\n    filter: false\r\n  }\r\n]\r\nconst toggleDetails = (index, details, setDetails) => {\r\n  const position = details.indexOf(index)\r\n  let newDetails = details.slice()\r\n  if (position !== -1) {\r\n      newDetails.splice(position, 1)\r\n  } else {\r\n      newDetails = [index]\r\n  }\r\n  setDetails(newDetails)\r\n}\r\n\r\nconst RaporDetay = ({match, location}) => {\r\n  console.log(\"match\", match)\r\n  const { id }= match.params\r\n  const history = useHistory()\r\n  const queryPage = useLocation().search.match(/sayfa=([0-9]+)/, '')\r\n  const currentPage = Number(queryPage && queryPage[1] ? queryPage[1] : 1)\r\n  const [page, setPage] = useState(currentPage)\r\n  const [loading, setLoading] = useState(true)\r\n  const [reportsData, setReportsData] = useState(undefined)\r\n  const [details, setDetails] = useState([])\r\n\r\n  const pageChange = newPage => {\r\n    currentPage !== newPage && history.push(`${match.url}?sayfa=${newPage}`)\r\n  }\r\n\r\n  // const exportFile = () => {\r\n  //   let cols = [\"ID\", \"İsim\", \"Tarih\", \"Hizmet\", \"Kampanya\", \"Açıklama\", \"Statü\", \"S-D Açıklaması\", \"S-D Açıklama Tarihi\", \"S-D Son Açıklaması\", \"S-D Son Açıklama Tarihi\" ]\r\n  //   const excelData = JSON.parse(JSON.stringify(reportsData));\r\n  //   excelData.forEach(obj => delete obj.submitProcessNum)\r\n  //   let arrOfArrs = []\r\n  //   for (let i = 0; i < excelData.length; i++) {\r\n  //       arrOfArrs[i] = Object.values(excelData[i])\r\n  //     }\r\n  //   arrOfArrs.unshift(cols)\r\n  //   const ws = XLSX.utils.aoa_to_sheet(arrOfArrs);\r\n  //   const wb = XLSX.utils.book_new();\r\n  //   XLSX.utils.book_append_sheet(wb, ws, \"Başvurular\");\r\n  //   XLSX.writeFile(wb, \"başvurular.xlsx\")\r\n  // };\r\n  useEffect(() => {\r\n    currentPage !== page && setPage(currentPage)\r\n    const fetchData = async () => {\r\n      setLoading(true)\r\n      const res = await fetch(`/report/transactions?reportID=${id}`, {\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          'authorization' :`Bearer ${document.cookie.slice(8)} `\r\n        }\r\n      })\r\n      if (res.status === 200) {\r\n        const data = await res.json()\r\n        console.log(\"data \", data)\r\n        const mapedDataToTUR = data.map(obj => {\r\n          return {\r\n            başvuru_ID: obj.app_id,\r\n            müşteri: obj.client_name,\r\n            hizmet: obj.selected_service,\r\n            önceki_bakiye: Number(obj.balance_before).toFixed(2),\r\n            tutar: obj.amount,\r\n            sonraki_bakiye: Number(obj.balance_after).toFixed(2),\r\n            kazanç_ID: obj.transaction_id,\r\n            tarih: obj.date\r\n          }\r\n        })\r\n        setReportsData(mapedDataToTUR)\r\n        setLoading(false)\r\n      }\r\n      setLoading(false)\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line\r\n  }, [currentPage])\r\n\r\n  return (\r\n    <CRow className = \"d-flex justify-content-center\">\r\n      <CCol xl={12} lg = {10}>\r\n        <CCard>\r\n          <CCardHeader>\r\n            Kazanç\r\n            <small className=\"text-muted\"> DETAY</small>\r\n          </CCardHeader>\r\n          <CCardBody>\r\n            <CDataTable\r\n                // overTableSlot = {<CButton color = \"primary\" onClick = {() => exportFile()}>Excele aktar</CButton>}\r\n                fields = {fields}\r\n                loading = {loading}\r\n                sorter\r\n                items={reportsData}\r\n                tableFilter\r\n                hover\r\n                itemsPerPage={15}\r\n                activePage={page}\r\n                clickableRows\r\n                onRowClick={(item) => history.push(`/bayi/rapor/kazanc/detay/${item.rapor_id}`)}\r\n                scopedSlots = {{\r\n                'tutar':\r\n                    (item)=>(\r\n                    <td>\r\n                        <p style = {{color: \"green\", fontSize: \"15px\"}}>{Number(item.tutar).toFixed(2)} TL</p>\r\n                    </td>\r\n                    ),\r\n                'show_details':\r\n                  (item, index)=>{\r\n                  return (\r\n                    <td className=\"py-2\">\r\n                      <CButton\r\n                        color=\"primary\"\r\n                        variant=\"outline\"\r\n                        shape=\"square\"\r\n                        size=\"sm\"\r\n                        onClick={()=>{\r\n                          toggleDetails(index, details, setDetails)\r\n                          }}\r\n                      >\r\n                        {details.includes(index) ? 'Sakla' : 'Göster'}\r\n                      </CButton>\r\n                    </td>\r\n                    )\r\n                },\r\n                'details':\r\n                    (item, index)=>{\r\n                      return (\r\n                      <CCollapse show={details.includes(index)}>\r\n                          <CCol sm = \"12\">\r\n                            <div style = {{marginTop: \"15px\"}}> </div>\r\n                            <BasvuruID applicationID = {item.başvuru_ID}/>\r\n                          </CCol>\r\n                      </CCollapse>\r\n                    )\r\n                  }\r\n                }}\r\n            />\r\n            <CPagination\r\n                activePage={page}\r\n                onActivePageChange={pageChange}\r\n                pages={15}\r\n                doubleArrows={false} \r\n                align=\"center\"\r\n            />\r\n          </CCardBody>\r\n        </CCard>\r\n      </CCol>\r\n    </CRow>\r\n  )\r\n}\r\n\r\nexport default RaporDetay;\r\n"],"sourceRoot":""}