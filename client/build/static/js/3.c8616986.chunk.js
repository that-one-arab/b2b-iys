(this.webpackJsonptest=this.webpackJsonptest||[]).push([[3],{638:function(e,t,n){"use strict";n(642);var c=n(7);t.a=function(e){return e.absolute?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:e.isLoading?"loader loader-absolute":"",children:Object(c.jsx)("div",{className:e.isLoading?"spinner-border":"",role:"status"})}),e.children]}):e.relative?Object(c.jsxs)("div",{className:"relativePosition",children:[Object(c.jsx)("div",{className:e.isLoading?"loader loader-relative":"",children:Object(c.jsx)("div",{className:e.isLoading?"spinner-border":"",role:"status"})}),e.children]}):void 0}},641:function(e,t,n){"use strict";n(1);var c=n(636),a=n(7);t.a=function(e){return e.dispatch?Object(a.jsxs)(c.J,{show:e.on,onClose:function(){return e.dispatch({type:"MODAL_DISPLAY",payload:{type:"CLOSE"}})},color:e.color,centered:!0,children:[Object(a.jsx)(c.M,{closeButton:!0,children:Object(a.jsxs)(c.N,{children:[" ",e.header," "]})}),Object(a.jsx)(c.K,{children:Object(a.jsx)("h5",{children:e.body})}),Object(a.jsx)(c.L,{children:Object(a.jsx)(c.d,{color:"secondary",onClick:function(){return e.dispatch({type:"MODAL_DISPLAY",payload:{type:"CLOSE"}})},children:"Kapat"})})]}):Object(a.jsxs)(c.J,{show:e.modalOn,onClose:function(){return e.setModal(!e.modalOn)},color:e.color,centered:!0,children:[Object(a.jsx)(c.M,{closeButton:!0,children:Object(a.jsxs)(c.N,{children:[" ",e.header," "]})}),Object(a.jsx)(c.K,{children:Object(a.jsx)("h5",{style:{textAlign:"center"},children:e.body})}),Object(a.jsx)(c.L,{children:Object(a.jsx)(c.d,{color:"secondary",onClick:function(){return e.setModal(!e.modalOn)},children:"Kapat"})})]})}},642:function(e,t,n){},658:function(e,t,n){},659:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var c=function(e){return e.map((function(e){var t="";switch(e.role){case"admin":t="Admin";break;case"dealer":t="Bayi";break;case"sales_assistant":t="Sat\u0131\u015f Destek";break;case"sales_assistant_chef":t="Sat\u0131\u015f Destek \u015eefi"}return{ID:e.user_id,"Kullan\u0131c\u0131":e.name,"R\xf6l":t,Bakiye:e.balance?Number(e.balance).toFixed(2):"Yok","Kay\u0131t_tarihi":e.register_date,Aktif:e.active}}))},a=function(e,t){return e.ID<t.ID?-1:e.ID>t.ID?1:0}},704:function(e,t,n){},718:function(e,t,n){"use strict";n.r(t);var c=n(63),a=n.n(c),s=n(88),i=n(644),r=n(637),o=n(1),l=n(13),d=n(636),u=n(716),h=(n(658),n(704),n(7)),j=function(e){var t=e.id,n=e.name,c=e.checked,a=e.onChange,s=e.optionLabels,i=e.small,r=e.disabled;return Object(h.jsxs)("div",{className:"toggle-switch"+(i?" small-switch":""),children:[Object(h.jsx)("input",{type:"checkbox",name:n,className:"toggle-switch-checkbox",id:t,checked:c,onChange:function(e){return a(e.target.checked)},disabled:r}),t?Object(h.jsxs)("label",{className:"toggle-switch-label",tabIndex:r?-1:1,onKeyDown:function(e){return function(e){32===e.keyCode&&(e.preventDefault(),a(!c))}(e)},htmlFor:t,children:[Object(h.jsx)("span",{className:r?"toggle-switch-inner toggle-switch-disabled":"toggle-switch-inner","data-yes":s[0],"data-no":s[1],tabIndex:-1}),Object(h.jsx)("span",{className:r?"toggle-switch-switch toggle-switch-disabled":"toggle-switch-switch",tabIndex:-1})]}):null]})};j.defaultProps={optionLabels:["Evet","Hay\u0131r"]};var b=j,f=n(638),O=n(641),p=n(659),x=[{key:"ID",_style:{width:"20%"}},{key:"Kullan\u0131c\u0131",_style:{width:"20%"}},{key:"R\xf6l",_style:{width:"20%"}},{key:"Bakiye",_style:{width:"15%"}},{key:"Kay\u0131t_tarihi",_style:{width:"15%"}},{key:"Aktif",_style:{width:"10%"}},{key:"show_details",label:"",_style:{width:"1%"},sorter:!1,filter:!1}],y=[{value:"sales_assistant",label:"Sat\u0131\u015f Destek"},{value:"dealer",label:"Bayi"}];t.default=function(){var e=Object(l.g)(),t=Object(l.h)().search.match(/sayfa=([0-9]+)/,""),n=Number(t&&t[1]?t[1]:1),c=Object(o.useState)(n),j=Object(r.a)(c,2),k=j[0],m=j[1],g=Object(o.useState)([]),v=Object(r.a)(g,2),w=v[0],D=v[1],I=Object(o.useState)(!0),_=Object(r.a)(I,2),A=_[0],L=_[1],N=Object(o.useState)(!1),S=Object(r.a)(N,2),C=S[0],B=S[1],P=function(){var e=Object(s.a)(a.a.mark((function e(){var t,n,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,fetch("/users",{method:"GET",headers:{"content-type":"application/json",authorization:"Bearer ".concat(document.cookie.slice(8)," ")}});case 3:if(200!==(t=e.sent).status){e.next=12;break}return e.next=7,t.json();case 7:n=e.sent,c=Object(p.b)(n),s=c.sort(p.a),D(s),L(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,fetch("/user/assign/role?userID=".concat(n,"&toRole=").concat(t),{method:"PUT",headers:{"content-type":"application/json",authorization:"Bearer ".concat(document.cookie.slice(8)," ")}});case 3:200===e.sent.status?P():B(!0),L(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,fetch("/user/active/".concat(t),{method:"PUT",headers:{"content-type":"application/json",authorization:"Bearer ".concat(document.cookie.slice(8)," ")}});case 3:n=e.sent,L(!1),n.status,P();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){n!==k&&m(n),P()}),[n,k]),Object(h.jsxs)(f.a,{isLoading:!1,absolute:!0,children:[Object(h.jsx)(O.a,{modalOn:C,setModal:B,color:"danger",header:"Hata",body:"Sunucu hatas\u0131ndan dolay\u0131 g\xfcncelleme sa\u011flanmam\u0131\u015ft\u0131r, l\xfctfen tekrar deneyin"}),Object(h.jsx)(d.Q,{className:"d-flex justify-content-center",children:Object(h.jsx)(d.j,{xl:12,children:Object(h.jsxs)(d.e,{children:[Object(h.jsx)(d.i,{children:"Kullan\u0131c\u0131lar"}),Object(h.jsxs)(d.f,{children:[Object(h.jsx)(d.n,{columnFilter:!0,fields:x,loading:A,responsive:!0,items:w,hover:!0,itemsPerPage:30,activePage:k,clickableRows:!0,scopedSlots:{Aktif:function(e,t){return"Sat\u0131\u015f Destek \u015eefi"===e.R\u00f6l||"Admin"===e.R\u00f6l?Object(h.jsx)("td",{children:Object(h.jsx)(b,{id:"userActive".concat(e.ID),checked:e.Aktif,disabled:!0})}):Object(h.jsx)("td",{children:Object(h.jsx)(b,{id:"userActive".concat(e.ID),checked:e.Aktif,onChange:function(){!function(e,t,n){var c=Object(i.a)(n),a=c.findIndex((function(e){return e.ID===t}));c[a].Aktif=!c[a].Aktif,e(c)}(D,e.ID,w),R(e.ID)}})})},Bakiye:function(e,t){return Object(h.jsx)("td",{children:Object(h.jsxs)("p",{style:{color:"green"},children:[e.Bakiye," ","Yok"===e.Bakiye?"":"TL"]})})},show_details:function(t,n){return Object(h.jsx)("td",{className:"py-2",children:Object(h.jsx)(d.d,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:function(){return e.push("/sdc/kullanici/".concat(t.ID))},children:"Detailar"})})},"R\xf6l":function(e,t){return Object(h.jsx)("td",{children:Object(h.jsx)(u.a,{options:y,placeholder:e.R\u00f6l,onChange:function(t){return K(t.value,e.ID)}})})}}}),Object(h.jsx)(d.O,{activePage:k,onActivePageChange:function(t){n!==t&&e.push("/sdc/kullanicilar?sayfa=".concat(t))},pages:15,doubleArrows:!1,align:"center"})]})]})})})]})}}}]);
//# sourceMappingURL=3.c8616986.chunk.js.map